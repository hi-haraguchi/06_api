# もろもろシステム ～図書館の書籍管理システム～

## 制作サイトの説明

図書館で使うシステムを作成しました。今回は、

- 本の新規登録（国会図書館の API を使って情報取得）
- 人の新規登録（以下、firebase で）
- 本の貸出
- 本の返却

の機能を作成しました。

## 工夫した点・こだわった点

現在働いている職場の図書館の先生から、

- 本の情報を管理するデータベースと、本の貸出を管理するシステムが別々であって不便
- 予算がないので、安くて古いシステムを使い続けている

という話を聞き、このアプリの作成を始めました。

本に固有に割り振られている、ISBN という１３桁の数字を使って、一つのシステムの中で本の情報を取得しつつ、貸出の基本的な機能も盛り込みました。
また、古臭くないようなデザインを心がけました。

### 機能について

- 【本の登録】ISBN（本のバーコード）を読み取って入力。API を使用して書影や図書館で使用する分類番号（NDC）を取得。実際の図書館での置き場所情報を追加して firebase に保存します。
- 【人の登録】利用者と割り当てた番号（バーコード）を登録し、firebase に保存します。（今回は図書館で使っている、利用者のバーコードを拝借しました）
- 【貸出】人と本のバーコードを読み取り、返却日などを追加して firebase に保存します。
- 【返却】本のバーコードを読み取り、firebase から「その本を借りている人」と「返却日」の情報を取得し、確認して返却作業（この時点で firebase の情報を削除）します。本だけ読み取るのは返却ポストを使用する場合を想定。履歴を消去するのはプライバシー保護のため。

## 難しかった点・次回トライしたこと

### 難しかったこと

国会図書館の API で、ISBN から本のさまざまな情報を取得しようとしましたが、形式を把握するのに非常に苦労しました。（XML 形式？RSS 形式？）
また国会図書館が登録している情報は無料ですが、最新刊などの更新が遅く、登録されていない画像や本の情報もあり、今後の課題だと感じました。

### 次回トライしたいこと

- 表示方法（現状、本や人の情報が少なかったり、数字のみで表示されている部分もある）
- 同じ本を２冊所蔵できるような方法（独自の通し番号を付ける）
- 本の予約機能
- 蔵書点検の機能（現在は、図書館の先生が古いシステムと大量の紙を使用して対応中）
- バーコードの作成機能

## 備考（感想、シェアしたいこと等なんでも）

### 図書館まわりの話

実際の業務では、本の情報がまとまった MARC というデータベースがあり、それを入手するそうです。（大手は情報が充実している（受賞歴、〇〇向け、おすすめ度など）が割高、国会図書館は情報が最低限だが無料）
そのデータを本の貸出管理システムに取り込み、本の貸出と管理の業務を行います。管理システムについてもそこまで多くの企業が参入しておらず、なかなかアップデートされていない状況のようです。（先日も国会図書館の MARC の仕様が変更になりましたが、管理システムの更新が追い付かずてんやわんやの状況でした）

### その他

- バーコードリーダーはアマゾンで３,０００円ぐらいでした。ちゃんとバーコードを読み込んで入力してくれました。
- システムの名前は、図書館の諸岡（もろおか）先生の名前から拝借しました。
